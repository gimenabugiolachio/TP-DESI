<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Listado de Integrantes</title>

    <!-- Bootstrap CSS + Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
	<link rel="stylesheet" th:href="@{/css/style.css}">

</head>
<body class="bg-light py-5">

    <div class="container">
        <h1 class="text-center mb-4 fw-bold">Listado de Integrantes</h1>

        <!-- Botones de acción -->
        <div class="d-flex justify-content-between mb-4">
            <a href="/integrantes-vista/nuevo" class="btn btn-success">
                <i class="bi bi-person-plus-fill"></i> Registrar Nuevo Integrante
            </a>
            <a href="/" class="btn btn-secondary">
                <i class="bi bi-house-door-fill"></i> Inicio
            </a>
        </div>

        <!-- Tabla -->
        <div class="table-responsive shadow rounded-4">
            <table class="table table-striped table-hover align-middle bg-white rounded-4 overflow-hidden">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>DNI</th>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Fecha de Nacimiento</th>
                        <th>Ocupación</th>
                        <th>Familia</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="integrante : ${integrantes}">
                        <td th:text="${integrante.id}">1</td>
                        <td th:text="${integrante.dni}">12345678</td>
                        <td th:text="${integrante.nombre}">Juan</td>
                        <td th:text="${integrante.apellido}">Pérez</td>
                        <td th:text="${#temporals.format(integrante.fechaNacimiento, 'dd/MM/yyyy')}">2000-01-01</td>
                        <td th:text="${integrante.ocupacion}">Estudiante</td>
                        <td th:text="${integrante.familia.nombreFamilia}">Familia Pérez</td>
                        <td>
                            <a th:href="@{'/integrantes-vista/editar/' + ${integrante.id}}" class="btn btn-primary btn-sm me-2">
                                <i class="bi bi-pencil-square"></i> Editar
                            </a>
                            <form th:action="@{'/integrantes-vista/eliminar/' + ${integrante.id}}" method="post" class="d-inline">
                                <button type="submit" class="btn btn-danger btn-sm">
                                    <i class="bi bi-trash-fill"></i> Eliminar
                                </button>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
		<div class="mt-3 text-end">
		    <a href="/integrantes-vista/inactivos" class="btn btn-outline-secondary">
		        <i class="bi bi-eye-slash"></i> Ver Integrantes Inactivos
		    </a>
		</div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
